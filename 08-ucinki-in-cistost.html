
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Učinki in čistost &#8212; Programiranje 1</title>
    
  <link rel="stylesheet" href="_static/css/index.73d71520a4ca3b99cfee5594769eaaae.css">

    
  <link rel="stylesheet"
    href="_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      
  <link rel="stylesheet"
    href="_static/vendor/open-sans_all/1.44.1/index.css">
  <link rel="stylesheet"
    href="_static/vendor/lato_latin-ext/1.44.1/index.css">

    
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="_static/sphinx-book-theme.40e2e510f6b7d1648584402491bb10fe.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="_static/js/index.3da636dd464baa7582d2.js">

    <script id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <script src="_static/language_data.js"></script>
    <script src="_static/togglebutton.js"></script>
    <script src="_static/clipboard.min.js"></script>
    <script src="_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="_static/sphinx-book-theme.d31b09fe5c1d09cb49b26a786de4a05d.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Iskalna drevesa" href="09-iskalna-drevesa.html" />
    <link rel="prev" title="Definicije tipov" href="07-definicije-tipov.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="index.html">
  
  
  <h1 class="site-logo" id="site-title">Programiranje 1</h1>
  
</a>
</div><form class="bd-search d-flex align-items-center" action="search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>
<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
    <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="00-uvod.html">
   Programiranje 1
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Analiza podatkov
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="01-regularni-izrazi.html">
   Regularni izrazi
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="02-zajem-podatkov.html">
   Zajem podatkov
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="03-knjiznica-pandas.html">
   Knjižnica Pandas
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="04-naivni-bayesov-klasifikator.html">
   Naivni Bayesov klasifikator
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Funkcijsko programiranje
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="05-uvod-v-ocaml.html">
   Uvod v OCaml
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="06-funkcije.html">
   Funkcije
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="07-definicije-tipov.html">
   Definicije tipov
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Učinki in čistost
  </a>
 </li>
</ul>
<p class="caption collapsible-parent">
 <span class="caption-text">
  Podatkovne strukture in algoritmi
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="09-iskalna-drevesa.html">
   Iskalna drevesa
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="10-spremenljive-podatkovne-strukture.html">
   Spremenljive podatkovne strukture
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="11-deli-in-vladaj.html">
   Deli in vladaj
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="12-dinamicno-programiranje.html">
   Dinamično programiranje
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13-1-memoizacija-v-pythonu.html">
   Memoizacija v Pythonu
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="13-2-memoizacija-v-ocamlu.html">
   Memoizacija v OCamlu
  </a>
 </li>
</ul>

</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        <a class="dropdown-buttons"
            href="_sources/08-ucinki-in-cistost.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download notebook file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="_sources/08-ucinki-in-cistost.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.md</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

        <!-- Source interaction buttons -->


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
                title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/matijapretnar/programiranje-1/zapiski?urlpath=tree/08-ucinki-in-cistost.md"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ucinki-v-ocamlu">
   Učinki v OCamlu
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#ciste-funkcije">
   Čiste funkcije
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indukcija-na-seznamih">
   Indukcija na seznamih
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-dolzina-xs-ys-dolzina-xs-dolzina-ys">
     Trditev:
     <code class="docutils literal notranslate">
      <span class="pre">
       dolzina
      </span>
      <span class="pre">
       (xs
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       ys)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       dolzina
      </span>
      <span class="pre">
       xs
      </span>
      <span class="pre">
       +
      </span>
      <span class="pre">
       dolzina
      </span>
      <span class="pre">
       ys
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#osnovni-korak">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#indukcijski-korak">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#pravilnost-nacela-indukcije-na-seznamih">
     Pravilnost načela indukcije na seznamih
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-xs-xs">
     Trditev:
     <code class="docutils literal notranslate">
      <span class="pre">
       xs
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       []
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       xs
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-xs-ys-zs-xs-ys-zs">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       xs
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       (ys
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       zs)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       (xs
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       ys)
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       zs
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id4">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-obrni-xs-ys-obrni-ys-obrni-xs">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       obrni
      </span>
      <span class="pre">
       (xs
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       ys)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       obrni
      </span>
      <span class="pre">
       ys
      </span>
      <span class="pre">
       @
      </span>
      <span class="pre">
       obrni
      </span>
      <span class="pre">
       xs
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id5">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id6">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-dolzina-obrni-xs-dolzina-xs">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       dolzina
      </span>
      <span class="pre">
       (obrni
      </span>
      <span class="pre">
       xs)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       dolzina
      </span>
      <span class="pre">
       xs
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id8">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#indukcija-na-drevesih">
   Indukcija na drevesih
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-globina-zrcali-t-globina-t">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       globina
      </span>
      <span class="pre">
       (zrcali
      </span>
      <span class="pre">
       t)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       globina
      </span>
      <span class="pre">
       t
      </span>
     </code>
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id9">
       Osnovni korak
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id10">
       Indukcijski korak
      </a>
     </li>
    </ul>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#vaje-za-utrjevanje">
   Vaje za utrjevanje
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-obrni-obrni-xs-xs">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       obrni
      </span>
      <span class="pre">
       (obrni
      </span>
      <span class="pre">
       xs)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       xs
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-zrcali-zrcali-t-t">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       zrcali
      </span>
      <span class="pre">
       (zrcali
      </span>
      <span class="pre">
       t)
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       t
      </span>
     </code>
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#trditev-obrni-xs-obrni-xs-tezja">
     Trditev
     <code class="docutils literal notranslate">
      <span class="pre">
       obrni
      </span>
      <span class="pre">
       xs
      </span>
      <span class="pre">
       =
      </span>
      <span class="pre">
       obrni'
      </span>
      <span class="pre">
       xs
      </span>
     </code>
     (težja)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#indukcija-na-drugih-tipih">
     Indukcija na drugih tipih
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
        
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="ucinki-in-cistost">
<h1>Učinki in čistost<a class="headerlink" href="#ucinki-in-cistost" title="Permalink to this headline">¶</a></h1>
<p>Računalniške funkcije so podobne matematičnim v tem, da iz vhodnih vrednosti izračunajo izhodno, vendar se tu podobnost neha. Računalniške funkcije dajo lahko ob enakih vhodih tudi različne izhodne vrednosti, poleg izračuna vrednosti pa včasih še kaj izpišejo na zaslon, preberejo s tipkovnice, sprožijo izjeme, spreminjajo datoteke, pošiljajo podatke in podobno. Vsem odklonom od čistih matematični vrednosti pravimo <em>stranski</em> ali <em>računski učinki</em>.</p>
<div class="section" id="ucinki-v-ocamlu">
<h2>Učinki v OCamlu<a class="headerlink" href="#ucinki-v-ocamlu" title="Permalink to this headline">¶</a></h2>
<p>Poglejmo si nekaj primerov takih funkcij v OCamlu. Prva (in zelo pogosto uporabljana) je <code class="docutils literal notranslate"><span class="pre">print_endline</span></code>, ki sprejme niz ter ga izpiše na zaslon in vrne prazen nabor. V splošnem nam prisotnost tipa <code class="docutils literal notranslate"><span class="pre">unit</span></code> v OCamlu sporoča, da se bodo sprožili stranski učinki, saj sicer funkcija, ki bi vrnila <code class="docutils literal notranslate"><span class="pre">unit</span></code>, ne bi storila ničesar koristnega.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">print_endline</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : string -&gt; unit = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">print_endline</span> <span class="s2">&quot;Hello, world!&quot;</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello, world!
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : unit = ()
</pre></div>
</div>
</div>
</div>
<p>Pri klicu funkcij z učinki je včasih uporabna tudi funkcija <code class="docutils literal notranslate"><span class="pre">List.iter</span></code>, ki dano funkcijo pokliče na vseh elementih seznama. Podobna je funkciji <code class="docutils literal notranslate"><span class="pre">List.map</span></code>, le da seznam vrnjenih praznih naborov zavrže, saj ga redkokdaj uporabljamo.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="nn">List</span><span class="p">.</span><span class="n">map</span> <span class="n">print_endline</span> <span class="o">[</span><span class="s2">&quot;am&quot;</span><span class="o">;</span> <span class="s2">&quot;bam&quot;</span><span class="o">;</span> <span class="s2">&quot;pet&quot;</span><span class="o">;</span> <span class="s2">&quot;podgan&quot;</span><span class="o">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>am
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bam
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pet
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>podgan
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : unit list = [(); (); (); ()]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="nn">List</span><span class="p">.</span><span class="n">iter</span> <span class="n">print_endline</span> <span class="o">[</span><span class="s2">&quot;am&quot;</span><span class="o">;</span> <span class="s2">&quot;bam&quot;</span><span class="o">;</span> <span class="s2">&quot;pet&quot;</span><span class="o">;</span> <span class="s2">&quot;podgan&quot;</span><span class="o">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>am
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>bam
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>pet
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>podgan
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : unit = ()
</pre></div>
</div>
</div>
</div>
<p>Za delo z psevdonaključnimi vrednostmi je na voljo knjižnica <code class="docutils literal notranslate"><span class="pre">Random</span></code>. Pogosto uporabljani funkciji tam sta <code class="docutils literal notranslate"><span class="pre">Random.bool</span></code>, ki ob vsakem klicu vrne naključno logično vrednost, in <code class="docutils literal notranslate"><span class="pre">Random.int</span></code>, ki za neko število <span class="math notranslate nohighlight">\(m\)</span> vrne naključno celo število med 0 in <span class="math notranslate nohighlight">\(m - 1\)</span>. Pri uporabi psevdonaključnih števil moramo paziti, da na začetku nastavimo ustrezno seme, saj sicer OCaml vedno začne z enakim. Na primer, spodnji klic bo ob prvem klicu vedno vrnil število 9344.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="nn">Random</span><span class="p">.</span><span class="n">int</span> <span class="mi">100000</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : int = 9344
</pre></div>
</div>
</div>
</div>
<p>Seme lahko najbolj enostavno nastavimo z <code class="docutils literal notranslate"><span class="pre">Random.self_init</span></code>, ki ga nastavi glede na trenuten čas, stanje procesov, …, skratka dovolj naključno.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="nn">Random</span><span class="p">.</span><span class="n">self_init</span> <span class="bp">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : unit = ()
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="nn">Random</span><span class="p">.</span><span class="n">int</span> <span class="mi">100000</span> <span class="c">(* tu je nemogoče napovedati, kaj bo klic vrnil *)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : int = 26778
</pre></div>
</div>
</div>
</div>
<p>Za branje s konzole uporabimo funkcijo <code class="docutils literal notranslate"><span class="pre">read_line</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">read_line</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : unit -&gt; string = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
<p>Tudi tu nam prisotnost tipa <code class="docutils literal notranslate"><span class="pre">unit</span></code> nakazuje, da se bodo najverjetneje zgodili učinki, saj bi funkcija samo iz praznega nabora težko izračunala kakšno zanimivo vrednost. Žal v učbeniku te funkcije ne moremo smiselno poklicati.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="k">raise</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : exn -&gt; &#39;a = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="ciste-funkcije">
<h2>Čiste funkcije<a class="headerlink" href="#ciste-funkcije" title="Permalink to this headline">¶</a></h2>
<p>Nasprotje funkcij, ki sprožajo učinke, so <em>čiste</em> funkcije. Kljub temu, da z njimi lahko postorimo manj, imajo prednost, da o njih lažje razmišljamo, saj:</p>
<ol class="simple">
<li><p>jih vedno lahko zamenjamo z njihovimi definicijami</p></li>
<li><p>ob enakih argumentih vedno vrnejo enake rezultate</p></li>
</ol>
<p>S funkcijami, ki sprožajo učinke, to ni nujno res. Na primer, če v Pythonu definiramo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">seznam</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="n">seznam</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
    <span class="k">return</span> <span class="nb">len</span><span class="p">(</span><span class="n">seznam</span><span class="p">)</span>
<span class="k">def</span> <span class="nf">g</span><span class="p">(</span><span class="n">x</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="n">x</span><span class="p">)</span>
</pre></div>
</div>
<p>bomo ob klicu <code class="docutils literal notranslate"><span class="pre">g(3)</span></code> dobili</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">9</span>
</pre></div>
</div>
<p>če to zamenjamo z definicijo <code class="docutils literal notranslate"><span class="pre">f(3)</span> <span class="pre">+</span> <span class="pre">f(3)</span></code>, dobimo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span> <span class="o">+</span> <span class="n">f</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">13</span>
</pre></div>
</div>
<p>in če še enkrat pokličemo <code class="docutils literal notranslate"><span class="pre">g(3)</span></code>, dobimo:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">g</span><span class="p">(</span><span class="mi">3</span><span class="p">)</span>
<span class="go">17</span>
</pre></div>
</div>
<p>Ker funkcija <code class="docutils literal notranslate"><span class="pre">f</span></code> ob klicu spreminja seznam, bomo vsakič dobili drugačen odgovor. O tem, kaj vračata funkciji <code class="docutils literal notranslate"><span class="pre">f</span></code> in <code class="docutils literal notranslate"><span class="pre">g</span></code> tako zelo težko sklepamo. Če pa imamo čiste funkcije (na primer spodnjo, ki ne spreminja obstoječega seznama, temveč vrača novega), potem ob vsakem klicu dobimo enak odgovor.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">seznam</span> <span class="o">=</span> <span class="o">[</span><span class="mi">1</span><span class="o">;</span> <span class="mi">2</span><span class="o">;</span> <span class="mi">3</span><span class="o">]</span>
<span class="k">let</span> <span class="n">f</span> <span class="n">x</span> <span class="o">=</span>
    <span class="k">let</span> <span class="n">seznam</span> <span class="o">=</span> <span class="n">x</span> <span class="o">::</span> <span class="n">seznam</span> <span class="k">in</span>
    <span class="nn">List</span><span class="p">.</span><span class="n">length</span> <span class="n">seznam</span>
<span class="k">let</span> <span class="n">g</span> <span class="n">x</span> <span class="o">=</span>
    <span class="n">f</span> <span class="n">x</span> <span class="o">+</span> <span class="n">f</span> <span class="n">x</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>val seznam : int list = [1; 2; 3]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : int = 8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="mi">3</span> <span class="o">+</span> <span class="n">f</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : int = 8
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="n">g</span> <span class="mi">3</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>- : int = 8
</pre></div>
</div>
</div>
</div>
<p>Zaradi tega je v splošnem dobro, da v naših programih napišemo čimveč čistih funkcij, funkcije z učinki pa omejimo kolikor se da. Tako bodo naši programi jasnejši in z manj napakami. Poleg tega pa si lahko ob čistih funkcijah privoščimo čisto prave matematične dokaze. Da bomo imeli kaj, s čimer bomo lahko delali, si definirajmo sledeče tri funkcije:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="o">(@)</span> <span class="n">xs</span> <span class="n">ys</span> <span class="o">=</span>
  <span class="k">match</span> <span class="n">xs</span> <span class="k">with</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="n">ys</span>
  <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs&#39;</span> <span class="o">-&gt;</span> <span class="n">x</span> <span class="o">::</span> <span class="o">(</span><span class="n">xs&#39;</span> <span class="o">@</span> <span class="n">ys</span><span class="o">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>val ( @ ) : &#39;a list -&gt; &#39;a list -&gt; &#39;a list = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">obrni</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
  <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs</span> <span class="o">-&gt;</span> <span class="n">obrni</span> <span class="n">xs</span> <span class="o">@</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>val obrni : &#39;a list -&gt; &#39;a list = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-OCaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">dolzina</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="mi">0</span>
  <span class="o">|</span> <span class="o">_</span> <span class="o">::</span> <span class="n">xs</span> <span class="o">-&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">dolzina</span> <span class="n">xs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>val dolzina : &#39;a list -&gt; int = &lt;fun&gt;
</pre></div>
</div>
</div>
</div>
<p>Iz definicij takoj sledijo enačbe</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">[]</span> <span class="pre">&#64;</span> <span class="pre">ys</span> <span class="pre">=</span> <span class="pre">ys</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">(x</span> <span class="pre">::</span> <span class="pre">xs)</span> <span class="pre">&#64;</span> <span class="pre">ys</span> <span class="pre">=</span> <span class="pre">x</span> <span class="pre">::</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">[]</span> <span class="pre">=</span> <span class="pre">[]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">(x</span> <span class="pre">::</span> <span class="pre">xs)</span> <span class="pre">=</span> <span class="pre">obrni</span> <span class="pre">xs</span> <span class="pre">&#64;</span> <span class="pre">[x]</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">[]</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(x</span> <span class="pre">::</span> <span class="pre">xs)</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">dolzina</span> <span class="pre">xs</span></code></p></li>
</ol>
<p>Iz teh enačb na primer takoj sledi trditev <code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">[x]</span> <span class="pre">=</span> <span class="pre">[x]</span></code>.</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>obrni [x]
= obrni (x :: [])
    (ker je `[x]` okrajšava za `x :: []`)
= [] @ [x]
    (po (3))
= [x]
    (po (1))
</pre></div>
</div>
</div>
<div class="section" id="indukcija-na-seznamih">
<h2>Indukcija na seznamih<a class="headerlink" href="#indukcija-na-seznamih" title="Permalink to this headline">¶</a></h2>
<div class="section" id="trditev-dolzina-xs-ys-dolzina-xs-dolzina-ys">
<h3>Trditev: <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span> <span class="pre">=</span> <span class="pre">dolzina</span> <span class="pre">xs</span> <span class="pre">+</span> <span class="pre">dolzina</span> <span class="pre">ys</span></code><a class="headerlink" href="#trditev-dolzina-xs-ys-dolzina-xs-dolzina-ys" title="Permalink to this headline">¶</a></h3>
<p>Tukaj enostavno odvijanje definicij ne bo pomagalo, saj izraz <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span></code> ne ustreza ne levi ne desni strani nobene od zgoraj naštetih definicij. Namesto tega uporabimo načelo indukcije za sezname:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>P([]) ∧ (∀ z, zs. P(zs) ⇒ P(z :: zs)) ⟹ ∀ ws. P(ws)
</pre></div>
</div>
<p>Torej, lastnost <code class="docutils literal notranslate"><span class="pre">P</span></code> velja za vse sezname <code class="docutils literal notranslate"><span class="pre">ws</span></code>, kadar (1) velja za prazen seznam <code class="docutils literal notranslate"><span class="pre">[]</span></code> in (2) velja za sestavljen seznam <code class="docutils literal notranslate"><span class="pre">z</span> <span class="pre">::</span> <span class="pre">zs</span></code> ob predpostavki, da velja za rep <code class="docutils literal notranslate"><span class="pre">zs</span></code>. Načelo indukcije je podobno načelu indukcije za naravna števila:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>P(0) ∧ (∀ m. P(m) ⇒ P(m⁺)) ⟹ ∀ n. P(n)
</pre></div>
</div>
<p>Torej, lastnost <code class="docutils literal notranslate"><span class="pre">P</span></code> velja za vsa naravna števila <code class="docutils literal notranslate"><span class="pre">n</span></code>, kadar (1) velja za <code class="docutils literal notranslate"><span class="pre">0</span></code> in (2) velja za naslednika <code class="docutils literal notranslate"><span class="pre">m⁺</span></code> ob predpostavki, da velja za <code class="docutils literal notranslate"><span class="pre">m</span></code>. Izjavo dokažemo z indukcijo na levi seznam. Indukcija poteka v dveh korakih:</p>
<div class="section" id="osnovni-korak">
<h4>Osnovni korak<a class="headerlink" href="#osnovni-korak" title="Permalink to this headline">¶</a></h4>
<p>V osnovnem koraku pokažemo, da enakost velja, kadar je levi seznam prazen, torej oblike <code class="docutils literal notranslate"><span class="pre">[]</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dolzina ([] @ ys)
= dolzina ys
    (po (1))
= 0 + dolzina ys
    (po Peanovih aksiomih)
= dolzina [] + dolzina ys
    (po (5))
</pre></div>
</div>
</div>
<div class="section" id="indukcijski-korak">
<h4>Indukcijski korak<a class="headerlink" href="#indukcijski-korak" title="Permalink to this headline">¶</a></h4>
<p>V indukcijskem koraku pokažemo, da enakost velja za sestavljeni seznam <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">::</span> <span class="pre">xs</span></code> ob predpostavki, da enakost velja za seznam <code class="docutils literal notranslate"><span class="pre">xs</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dolzina ((x :: xs) @ ys)
= dolzina (x :: (xs @ ys))
    (po (2))
= 1 + dolzina (xs @ ys)
    (po (6))
= 1 + (dolzina xs + dolzina ys)
    (po indukcijski prepostavki)
= (1 + dolzina xs) + dolzina ys)
    (po Peanovih aksiomih)
= dolzina (x :: xs) + dolzina ys
    (po (6))
</pre></div>
</div>
</div>
</div>
<div class="section" id="pravilnost-nacela-indukcije-na-seznamih">
<h3>Pravilnost načela indukcije na seznamih<a class="headerlink" href="#pravilnost-nacela-indukcije-na-seznamih" title="Permalink to this headline">¶</a></h3>
<p>Zakaj sploh smemo uporabiti načelo indukcije? Recimo, da velja</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>P([]) ∧ (∀ z, zs. P(zs) ⇒ P(z :: zs))
</pre></div>
</div>
<p>Zakaj potem velja <code class="docutils literal notranslate"><span class="pre">P(ws)</span></code> za poljuben seznam <code class="docutils literal notranslate"><span class="pre">ws</span></code>? Vzemimo nek konkreten seznam, na primer <code class="docutils literal notranslate"><span class="pre">[1;</span> <span class="pre">2;</span> <span class="pre">3]</span></code>, in pokažimo, da velja <code class="docutils literal notranslate"><span class="pre">P([1;</span> <span class="pre">2;</span> <span class="pre">3])</span></code>. Res, po prvem delu predpostavke velja <code class="docutils literal notranslate"><span class="pre">P([])</span></code>. Zato po drugem delu predpostavke velja <code class="docutils literal notranslate"><span class="pre">P([3])</span></code>, saj velja <code class="docutils literal notranslate"><span class="pre">P([])</span></code> in je <code class="docutils literal notranslate"><span class="pre">[3]</span> <span class="pre">=</span> <span class="pre">3</span> <span class="pre">::</span> <span class="pre">[]</span></code>. Podobno potem iz <code class="docutils literal notranslate"><span class="pre">P([3])</span></code> sledi <code class="docutils literal notranslate"><span class="pre">P([2;</span> <span class="pre">3])</span></code> in na koncu tudi <code class="docutils literal notranslate"><span class="pre">P([1;</span> <span class="pre">2;</span> <span class="pre">3])</span></code>. Tak dokaz bi lahko ponovili za vsak konkreten seznam.</p>
<p>V splošnem pa se naslonimo na načelo indukcije za naravna števila. Definirajmo:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Q(n) :=  ∀ ws. |ws| = n ⇒ P(ws)
</pre></div>
</div>
<p>Torej, <code class="docutils literal notranslate"><span class="pre">Q(n)</span></code> velja, če velja <code class="docutils literal notranslate"><span class="pre">P(ws)</span></code> za vse sezname <code class="docutils literal notranslate"><span class="pre">ws</span></code> dolžine <code class="docutils literal notranslate"><span class="pre">n</span></code>. Iz Peanovih aksiomov potem sledi:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Q(0) ∧ (∀m. Q(m) ⇒ Q(m+)) ⟹ ∀n. Q(n)
</pre></div>
</div>
<p>Pokažimo, da velja <code class="docutils literal notranslate"><span class="pre">Q(0)</span></code> in <code class="docutils literal notranslate"><span class="pre">∀m.</span> <span class="pre">Q(m)</span> <span class="pre">⇒</span> <span class="pre">Q(m+)</span></code>. Ker velja <code class="docutils literal notranslate"><span class="pre">P([])</span></code> in je <code class="docutils literal notranslate"><span class="pre">[]</span></code> edini seznam dolžine <code class="docutils literal notranslate"><span class="pre">0</span></code>, velja tudi <code class="docutils literal notranslate"><span class="pre">Q(0)</span></code>. Vzemimo poljuben <code class="docutils literal notranslate"><span class="pre">m</span></code> in predpostavimo <code class="docutils literal notranslate"><span class="pre">Q(m)</span></code>. Torej za poljuben seznam <code class="docutils literal notranslate"><span class="pre">zs</span></code> dolžine <code class="docutils literal notranslate"><span class="pre">m</span></code> velja <code class="docutils literal notranslate"><span class="pre">P(zs)</span></code>. Iz predpostavke potem sledi, da velja tudi <code class="docutils literal notranslate"><span class="pre">P(z</span> <span class="pre">::</span> <span class="pre">zs)</span></code>. Ker so vsi seznami dolžine <code class="docutils literal notranslate"><span class="pre">m⁺</span></code> take oblike, smo pokazali <code class="docutils literal notranslate"><span class="pre">Q(m⁺)</span></code>. Po indukciji na naravnih številih torej sledi <code class="docutils literal notranslate"><span class="pre">∀n.</span> <span class="pre">Q(n)</span></code>. Ker je vsak seznam <code class="docutils literal notranslate"><span class="pre">ws</span></code> končen, ima za dolžino neko naravno število, zato velja <code class="docutils literal notranslate"><span class="pre">P(ws)</span></code> za vse sezname <code class="docutils literal notranslate"><span class="pre">ws</span></code>.</p>
</div>
<div class="section" id="trditev-xs-xs">
<h3>Trditev: <code class="docutils literal notranslate"><span class="pre">xs</span> <span class="pre">&#64;</span> <span class="pre">[]</span> <span class="pre">=</span> <span class="pre">xs</span></code><a class="headerlink" href="#trditev-xs-xs" title="Permalink to this headline">¶</a></h3>
<p>Po (1) vemo, da je <code class="docutils literal notranslate"><span class="pre">[]</span> <span class="pre">&#64;</span> <span class="pre">xs</span> <span class="pre">=</span> <span class="pre">xs</span></code>, torej je <code class="docutils literal notranslate"><span class="pre">[]</span></code> leva enota za <code class="docutils literal notranslate"><span class="pre">&#64;</span></code>. To, da je <code class="docutils literal notranslate"><span class="pre">[]</span></code> tudi desna enota, pa ni samoumevno — za dokaz uporabimo indukcijo.</p>
<div class="section" id="id1">
<h4>Osnovni korak<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>Po (1) velja <code class="docutils literal notranslate"><span class="pre">[]</span> <span class="pre">&#64;</span> <span class="pre">[]</span> <span class="pre">=</span> <span class="pre">[]</span></code>, kar dokaže osnovni korak.</p>
</div>
<div class="section" id="id2">
<h4>Indukcijski korak<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Prepostavimo, da velja <code class="docutils literal notranslate"><span class="pre">xs</span> <span class="pre">&#64;</span> <span class="pre">[]</span> <span class="pre">=</span> <span class="pre">xs</span></code>. Tedaj velja</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(x :: xs) @ []
= x :: (xs @ [])
    (po (2))
= x :: xs
    (po indukcijski prepostavki)
</pre></div>
</div>
<p>kar zaključi tudi indukcijski korak.</p>
</div>
</div>
<div class="section" id="trditev-xs-ys-zs-xs-ys-zs">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">xs</span> <span class="pre">&#64;</span> <span class="pre">(ys</span> <span class="pre">&#64;</span> <span class="pre">zs)</span> <span class="pre">=</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span> <span class="pre">&#64;</span> <span class="pre">zs</span></code><a class="headerlink" href="#trditev-xs-ys-zs-xs-ys-zs" title="Permalink to this headline">¶</a></h3>
<p>Operacija stikanja seznamov <code class="docutils literal notranslate"><span class="pre">&#64;</span></code> je tudi asociativna, kar dokažemo z indukcijo na <code class="docutils literal notranslate"><span class="pre">xs</span></code>. Če zapišete dokaz asociativnosti seštevanja, lahko vidite, da poteka podobno, le da se namesto <code class="docutils literal notranslate"><span class="pre">[]</span></code> pojavlja <code class="docutils literal notranslate"><span class="pre">0</span></code>, namesto <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">::</span> <span class="pre">xs</span></code> pa naslednik <code class="docutils literal notranslate"><span class="pre">n⁺</span></code>.</p>
<div class="section" id="id3">
<h4>Osnovni korak<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>[] @ (ys @ zs)
= ys @ zs
    (po (1))
= ([] @ ys) @ zs
    (po (1))
</pre></div>
</div>
</div>
<div class="section" id="id4">
<h4>Indukcijski korak<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h4>
<p>Prepostavimo, da velja <code class="docutils literal notranslate"><span class="pre">xs</span> <span class="pre">&#64;</span> <span class="pre">(ys</span> <span class="pre">&#64;</span> <span class="pre">zs)</span> <span class="pre">=</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span> <span class="pre">&#64;</span> <span class="pre">zs</span></code>. Tedaj velja</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(x :: xs) @ (ys @ zs)
= x :: (xs @ (ys @ zs))
    (po (2))
= x :: ((xs @ ys) @ zs)
    (po indukcijski predpostavki)
= (x :: (xs @ ys)) @ zs
    (po (2))
= ((x :: xs) @ ys) @ zs
    (po (2))
</pre></div>
</div>
</div>
</div>
<div class="section" id="trditev-obrni-xs-ys-obrni-ys-obrni-xs">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">(xs</span> <span class="pre">&#64;</span> <span class="pre">ys)</span> <span class="pre">=</span> <span class="pre">obrni</span> <span class="pre">ys</span> <span class="pre">&#64;</span> <span class="pre">obrni</span> <span class="pre">xs</span></code><a class="headerlink" href="#trditev-obrni-xs-ys-obrni-ys-obrni-xs" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id5">
<h4>Osnovni korak<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>obrni ([] @ ys)
= obrni ys
    (po (1))
= obrni ys @ []
    (po prej dokazani trditvi ∀ xs. xs @ [] = xs)
= obrni ys @ obrni []
    (po (3))
</pre></div>
</div>
</div>
<div class="section" id="id6">
<h4>Indukcijski korak<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>obrni ((x :: xs) @ ys)
= obrni (x :: (xs @ ys))
    (po (2))
= obrni (xs @ ys) @ [x]
    (po (4))
= (obrni ys @ obrni xs) @ [x]
    (po indukcijski predpostavki)
= obrni ys @ (obrni xs @ [x])
    (po prej dokazani trditvi ∀ xs, ys, zs. xs @ (ys @ zs) = (xs @ ys) @ zs)
= obrni ys @ obrni (x :: xs)
    (po (4))
</pre></div>
</div>
</div>
</div>
<div class="section" id="trditev-dolzina-obrni-xs-dolzina-xs">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(obrni</span> <span class="pre">xs)</span> <span class="pre">=</span> <span class="pre">dolzina</span> <span class="pre">xs</span></code><a class="headerlink" href="#trditev-dolzina-obrni-xs-dolzina-xs" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id7">
<h4>Osnovni korak<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Iz definicije (3) sledi <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(obrni</span> <span class="pre">[])</span> <span class="pre">=</span> <span class="pre">dolzina</span> <span class="pre">[]</span></code>,</p>
</div>
<div class="section" id="id8">
<h4>Indukcijski korak<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h4>
<p>Za indukcijski korak moramo pokazati, da velja <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(obrni</span> <span class="pre">(x</span> <span class="pre">::</span> <span class="pre">xs))</span> <span class="pre">=</span> <span class="pre">dolzina</span> <span class="pre">(x</span> <span class="pre">::</span> <span class="pre">xs)</span></code> ob indukcijski predpostavki <code class="docutils literal notranslate"><span class="pre">dolzina</span> <span class="pre">(obrni</span> <span class="pre">xs)</span> <span class="pre">=</span> <span class="pre">dolzina</span> <span class="pre">xs</span></code>.
Velja:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>dolzina (obrni (x :: xs))
= dolzina (obrni xs @ [x])
    (po definiciji (4))
= dolzina (obrni xs) + dolzina [x]
    (po zgornji lemi)
= dolzina xs + dolzina [x]
    (po indukcijski predpostavki)
= dolzina xs + 1
    (po definicijah (5) in (6))
= 1 + dolzina xs
    (zaradi komutativnosti seštevanja)
= dolzina (x :: xs)
    (po definiciji (6))
</pre></div>
</div>
<p>s čimer zaključimo tudi indukcijski korak.</p>
</div>
</div>
</div>
<div class="section" id="indukcija-na-drevesih">
<h2>Indukcija na drevesih<a class="headerlink" href="#indukcija-na-drevesih" title="Permalink to this headline">¶</a></h2>
<p>Načela indukcije imamo na voljo tudi na drugih vsotah.
Na primer, če definiramo tip dvojiških dreves:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">drevo</span> <span class="o">=</span>
  <span class="o">|</span> <span class="nc">Prazno</span>
  <span class="o">|</span> <span class="nc">Sest</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">drevo</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="o">*</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">drevo</span>
</pre></div>
</div>
<p>zanj velja načelo indukcije:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>P(Prazno) ∧ (∀ l, x, d. P(l) ∧ P(d) ⇒ P(Sest (l, x, d))) ⟹ ∀ t. P(t)
</pre></div>
</div>
<p>Torej, lastnost <code class="docutils literal notranslate"><span class="pre">P</span></code> velja za vsa drevesa <code class="docutils literal notranslate"><span class="pre">t</span></code>, kadar (1) velja za prazno drevo <code class="docutils literal notranslate"><span class="pre">Prazno</span></code> in (2) velja za sestavljeno drevo <code class="docutils literal notranslate"><span class="pre">Sest</span> <span class="pre">(l,</span> <span class="pre">x,</span> <span class="pre">d)</span></code> ob predpostavki, da velja za otroka <code class="docutils literal notranslate"><span class="pre">l</span></code> in <code class="docutils literal notranslate"><span class="pre">d</span></code>.</p>
<p>Definirajmo funkciji:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">zrcali</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="nc">Prazno</span> <span class="o">-&gt;</span> <span class="nc">Prazno</span>
  <span class="o">|</span> <span class="nc">Sest</span> <span class="o">(</span><span class="n">l</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">d</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="nc">Sest</span> <span class="o">(</span><span class="n">zrcali</span> <span class="n">d</span><span class="o">,</span> <span class="n">x</span><span class="o">,</span> <span class="n">zrcali</span> <span class="n">l</span><span class="o">)</span>

<span class="k">let</span> <span class="k">rec</span> <span class="n">globina</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="nc">Prazno</span> <span class="o">-&gt;</span> <span class="mi">0</span>
  <span class="o">|</span> <span class="nc">Sest</span> <span class="o">(</span><span class="n">l</span><span class="o">,</span> <span class="o">_,</span> <span class="n">d</span><span class="o">)</span> <span class="o">-&gt;</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">max</span> <span class="o">(</span><span class="n">globina</span> <span class="n">l</span><span class="o">)</span> <span class="o">(</span><span class="n">globina</span> <span class="n">d</span><span class="o">)</span>
</pre></div>
</div>
<p>Iz definicij sledijo enačbe</p>
<ol class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">zrcali</span> <span class="pre">Prazno</span> <span class="pre">=</span> <span class="pre">Prazno</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zrcali</span> <span class="pre">(Sest</span> <span class="pre">(l,</span> <span class="pre">x,</span> <span class="pre">d))</span> <span class="pre">=</span> <span class="pre">Sest</span> <span class="pre">(zrcali</span> <span class="pre">d,</span> <span class="pre">x,</span> <span class="pre">zrcali</span> <span class="pre">l)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">globina</span> <span class="pre">Prazno</span> <span class="pre">=</span> <span class="pre">0</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">globina</span> <span class="pre">(Sest</span> <span class="pre">(l,</span> <span class="pre">x,</span> <span class="pre">d))</span> <span class="pre">=</span> <span class="pre">1</span> <span class="pre">+</span> <span class="pre">max</span> <span class="pre">(globina</span> <span class="pre">l)</span> <span class="pre">(globina</span> <span class="pre">d)</span></code></p></li>
</ol>
<div class="section" id="trditev-globina-zrcali-t-globina-t">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">globina</span> <span class="pre">(zrcali</span> <span class="pre">t)</span> <span class="pre">=</span> <span class="pre">globina</span> <span class="pre">t</span></code><a class="headerlink" href="#trditev-globina-zrcali-t-globina-t" title="Permalink to this headline">¶</a></h3>
<div class="section" id="id9">
<h4>Osnovni korak<a class="headerlink" href="#id9" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>globina (zrcali Prazno)
= globina Prazno
    (po (1))
</pre></div>
</div>
</div>
<div class="section" id="id10">
<h4>Indukcijski korak<a class="headerlink" href="#id10" title="Permalink to this headline">¶</a></h4>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>globina (zrcali (Sest (l, x, d)))
= globina (Sest (zrcali d, x, zrcali l))
    (po (2))
= 1 + max (globina (zrcali d)) (globina (zrcali l))
    (po (4))
= 1 + max (globina d) (globina (zrcali l))
    (po prvi indukcijski predpostavki)
= 1 + max (globina d) (globina l)
    (po drugi indukcijski predpostavki)
= 1 + max (globina l) (globina d)
    (zaradi komutativnosti max)
= globina (Sest (l, x, d))
    (po (4))
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="vaje-za-utrjevanje">
<h2>Vaje za utrjevanje<a class="headerlink" href="#vaje-za-utrjevanje" title="Permalink to this headline">¶</a></h2>
<div class="section" id="trditev-obrni-obrni-xs-xs">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">(obrni</span> <span class="pre">xs)</span> <span class="pre">=</span> <span class="pre">xs</span></code><a class="headerlink" href="#trditev-obrni-obrni-xs-xs" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="trditev-zrcali-zrcali-t-t">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">zrcali</span> <span class="pre">(zrcali</span> <span class="pre">t)</span> <span class="pre">=</span> <span class="pre">t</span></code><a class="headerlink" href="#trditev-zrcali-zrcali-t-t" title="Permalink to this headline">¶</a></h3>
</div>
<div class="section" id="trditev-obrni-xs-obrni-xs-tezja">
<h3>Trditev <code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">xs</span> <span class="pre">=</span> <span class="pre">obrni'</span> <span class="pre">xs</span></code> (težja)<a class="headerlink" href="#trditev-obrni-xs-obrni-xs-tezja" title="Permalink to this headline">¶</a></h3>
<p>Kot vemo, ima funkcija <code class="docutils literal notranslate"><span class="pre">obrni</span></code>, definirana kot:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="k">rec</span> <span class="n">obrni</span> <span class="o">=</span> <span class="k">function</span>
  <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="bp">[]</span>
  <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs</span> <span class="o">-&gt;</span> <span class="n">obrni</span> <span class="n">xs</span> <span class="o">@</span> <span class="o">[</span><span class="n">x</span><span class="o">]</span>
</pre></div>
</div>
<p>časovno zahtevnost <code class="docutils literal notranslate"><span class="pre">O(n²)</span></code>, saj se mora zapeljati čez ves seznam, da mu na konec doda <code class="docutils literal notranslate"><span class="pre">x</span></code>.</p>
<p>Bolje je, če uporabimo funkcijo <code class="docutils literal notranslate"><span class="pre">obrni'</span></code>, ki uporablja akumulator in je definirana kot:</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">let</span> <span class="n">obrni&#39;</span> <span class="o">=</span>
  <span class="k">let</span> <span class="k">rec</span> <span class="n">aux</span> <span class="n">acc</span> <span class="o">=</span> <span class="k">function</span>
    <span class="o">|</span> <span class="bp">[]</span> <span class="o">-&gt;</span> <span class="n">aux</span>
    <span class="o">|</span> <span class="n">x</span> <span class="o">::</span> <span class="n">xs</span> <span class="o">-&gt;</span> <span class="n">aux</span> <span class="o">(</span><span class="n">x</span> <span class="o">::</span> <span class="n">acc</span><span class="o">)</span> <span class="n">xs</span>
  <span class="k">in</span>
  <span class="n">aux</span> <span class="bp">[]</span>
</pre></div>
</div>
<p>Pokažite, da za vse sezname <code class="docutils literal notranslate"><span class="pre">xs</span></code> velja <code class="docutils literal notranslate"><span class="pre">obrni</span> <span class="pre">xs</span> <span class="pre">=</span> <span class="pre">obrni'</span> <span class="pre">xs</span></code>.</p>
</div>
<div class="section" id="indukcija-na-drugih-tipih">
<h3>Indukcija na drugih tipih<a class="headerlink" href="#indukcija-na-drugih-tipih" title="Permalink to this headline">¶</a></h3>
<p>Definirajmo tipe</p>
<div class="highlight-ocaml notranslate"><div class="highlight"><pre><span></span><span class="k">type</span> <span class="n">naravno</span> <span class="o">=</span> <span class="nc">Zero</span> <span class="o">|</span> <span class="nc">Succ</span> <span class="k">of</span> <span class="n">naravno</span>
<span class="k">type</span> <span class="n">boole</span> <span class="o">=</span> <span class="nc">Resnica</span> <span class="o">|</span> <span class="nc">Laz</span>
<span class="k">type</span> <span class="k">&#39;</span><span class="n">a</span> <span class="n">mogoce</span> <span class="o">=</span> <span class="nc">Nic</span> <span class="o">|</span> <span class="nc">Nekaj</span> <span class="k">of</span> <span class="k">&#39;</span><span class="n">a</span>
</pre></div>
</div>
<p>Kakšni sta videti načeli indukcije za te tipe?</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "ocaml-jupyter"
        },
        kernelOptions: {
            kernelName: "ocaml-jupyter",
            path: "./."
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'ocaml-jupyter'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="07-definicije-tipov.html" title="previous page">Definicije tipov</a>
    <a class='right-next' id="next-link" href="09-iskalna-drevesa.html" title="next page">Iskalna drevesa</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By Matija Pretnar<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    
  <script src="_static/js/index.3da636dd464baa7582d2.js"></script>


    
  </body>
</html>